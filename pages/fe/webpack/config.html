<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>可维护的webpack构建配置 | Web全栈技术笔记</title>
    <meta name="description" content="Web技术笔记，记录前端的进阶之路">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.d20cb8b9.css" as="style"><link rel="preload" href="/assets/js/app.2c921ca0.js" as="script"><link rel="preload" href="/assets/js/2.29093f4e.js" as="script"><link rel="preload" href="/assets/js/44.408a421f.js" as="script"><link rel="prefetch" href="/assets/js/10.e7261647.js"><link rel="prefetch" href="/assets/js/11.3acb9245.js"><link rel="prefetch" href="/assets/js/12.30fa2830.js"><link rel="prefetch" href="/assets/js/13.f7f5633c.js"><link rel="prefetch" href="/assets/js/14.077d15bd.js"><link rel="prefetch" href="/assets/js/15.ca4c6dcf.js"><link rel="prefetch" href="/assets/js/16.33c76806.js"><link rel="prefetch" href="/assets/js/17.c1d108fb.js"><link rel="prefetch" href="/assets/js/18.f2c74917.js"><link rel="prefetch" href="/assets/js/19.4d0677d6.js"><link rel="prefetch" href="/assets/js/20.05a49d49.js"><link rel="prefetch" href="/assets/js/21.303ca718.js"><link rel="prefetch" href="/assets/js/22.dd8c450d.js"><link rel="prefetch" href="/assets/js/23.c436f815.js"><link rel="prefetch" href="/assets/js/24.5817cae1.js"><link rel="prefetch" href="/assets/js/25.7640084e.js"><link rel="prefetch" href="/assets/js/26.6981ceda.js"><link rel="prefetch" href="/assets/js/27.d96b5401.js"><link rel="prefetch" href="/assets/js/28.7e5507ca.js"><link rel="prefetch" href="/assets/js/29.0486ec9e.js"><link rel="prefetch" href="/assets/js/3.5ee6df4b.js"><link rel="prefetch" href="/assets/js/30.0705fdc2.js"><link rel="prefetch" href="/assets/js/31.3e20c412.js"><link rel="prefetch" href="/assets/js/32.40154bdb.js"><link rel="prefetch" href="/assets/js/33.54042f7d.js"><link rel="prefetch" href="/assets/js/34.992a68b5.js"><link rel="prefetch" href="/assets/js/35.fe5d31f8.js"><link rel="prefetch" href="/assets/js/36.20985163.js"><link rel="prefetch" href="/assets/js/37.7e0e1be1.js"><link rel="prefetch" href="/assets/js/38.c81dfd87.js"><link rel="prefetch" href="/assets/js/39.799324c8.js"><link rel="prefetch" href="/assets/js/4.505f2474.js"><link rel="prefetch" href="/assets/js/40.4a8ca097.js"><link rel="prefetch" href="/assets/js/41.3bdce235.js"><link rel="prefetch" href="/assets/js/42.13fe7b3a.js"><link rel="prefetch" href="/assets/js/43.b51c1b2e.js"><link rel="prefetch" href="/assets/js/45.63e44fa3.js"><link rel="prefetch" href="/assets/js/46.409b4b6a.js"><link rel="prefetch" href="/assets/js/47.e253242d.js"><link rel="prefetch" href="/assets/js/48.ba57127f.js"><link rel="prefetch" href="/assets/js/49.7637631e.js"><link rel="prefetch" href="/assets/js/5.5326fad8.js"><link rel="prefetch" href="/assets/js/50.5c4dae5f.js"><link rel="prefetch" href="/assets/js/51.5ced2ccf.js"><link rel="prefetch" href="/assets/js/52.0447cb17.js"><link rel="prefetch" href="/assets/js/53.bb22200a.js"><link rel="prefetch" href="/assets/js/54.cbb62dbb.js"><link rel="prefetch" href="/assets/js/55.951cd720.js"><link rel="prefetch" href="/assets/js/56.3026c904.js"><link rel="prefetch" href="/assets/js/57.925dacf9.js"><link rel="prefetch" href="/assets/js/58.32a50715.js"><link rel="prefetch" href="/assets/js/59.f1f9cb40.js"><link rel="prefetch" href="/assets/js/6.9c6dd834.js"><link rel="prefetch" href="/assets/js/60.be19c9ef.js"><link rel="prefetch" href="/assets/js/61.c84c312a.js"><link rel="prefetch" href="/assets/js/62.b2e36c2d.js"><link rel="prefetch" href="/assets/js/7.a22cca04.js"><link rel="prefetch" href="/assets/js/8.34ea0bd8.js"><link rel="prefetch" href="/assets/js/9.224ad97b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d20cb8b9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon.ico" alt="Web全栈技术笔记" class="logo"> <span class="site-name can-hide">Web全栈技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fe/vue/" class="nav-link">Vue.js实战</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/webpack/" class="nav-link router-link-active">玩转webpack4.0</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/chrome/" class="nav-link">浏览器工作原理与实战</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/block/introduce.html" class="nav-link">区块链开发入门</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/git/" class="nav-link">Git命令大全</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/PCAaron/PCAaron.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/aaron-pan/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fe/vue/" class="nav-link">Vue.js实战</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/webpack/" class="nav-link router-link-active">玩转webpack4.0</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/chrome/" class="nav-link">浏览器工作原理与实战</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/block/introduce.html" class="nav-link">区块链开发入门</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/git/" class="nav-link">Git命令大全</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/PCAaron/PCAaron.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/aaron-pan/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack导读</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/" class="sidebar-link">Webpack导读</a></li><li><a href="/pages/fe/webpack/history.html" class="sidebar-link">webpack与构建发展史</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack基础篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/basic.html" class="sidebar-link">webpack的基本用法：核心概念</a></li><li><a href="/pages/fe/webpack/basicUsage.html" class="sidebar-link">webpack的基本用法：常用配置</a></li><li><a href="/pages/fe/webpack/improve.html" class="sidebar-link">webpack的进阶用法（一）</a></li><li><a href="/pages/fe/webpack/improveMore.html" class="sidebar-link">webpack的进阶用法（二）</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>webpack进阶篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/config.html" class="active sidebar-link">可维护的webpack构建配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#构建配置抽离成npm包的意义" class="sidebar-link">构建配置抽离成npm包的意义</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#构建配置管理的可选方案" class="sidebar-link">构建配置管理的可选方案</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#构建配置包设计" class="sidebar-link">构建配置包设计</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#功能模块设计及目录结构设计" class="sidebar-link">功能模块设计及目录结构设计</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#使用eslint规范构建脚本" class="sidebar-link">使用ESLint规范构建脚本</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#功能测试" class="sidebar-link">功能测试</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#持续集成" class="sidebar-link">持续集成</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#发布构建包" class="sidebar-link">发布构建包</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#git规范及changelog生成" class="sidebar-link">Git规范及Changelog生成</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#开源版本号规范" class="sidebar-link">开源版本号规范</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/config.html#推荐阅读" class="sidebar-link">推荐阅读</a></li></ul></li><li><a href="/pages/fe/webpack/optimize.html" class="sidebar-link">webpack构建速度及体积优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack原理篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/principle.html" class="sidebar-link">运行webpack发生了什么？</a></li><li><a href="/pages/fe/webpack/nature.html" class="sidebar-link">webpack插件机制</a></li><li><a href="/pages/fe/webpack/flow.html" class="sidebar-link">webpack编译流程分析</a></li><li><a href="/pages/fe/webpack/webpack.html" class="sidebar-link">迷你webpack的实现</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>编写loader和plugin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/loader.html" class="sidebar-link">编写一个loader</a></li><li><a href="/pages/fe/webpack/plugin.html" class="sidebar-link">编写一个plugin</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="可维护的webpack构建配置"><a href="#可维护的webpack构建配置" class="header-anchor">#</a> 可维护的webpack构建配置</h1> <h2 id="构建配置抽离成npm包的意义"><a href="#构建配置抽离成npm包的意义" class="header-anchor">#</a> 构建配置抽离成npm包的意义</h2> <ul><li>通用性<br>
业务开发者无需关注构建配置<br>
统一团队构建脚本</li> <li>可维护性<br>
构建配置合理的拆分<br>
README文档说明，ChangeLog版本修订说明等</li> <li>质量
单元测试、测试覆盖率等<br>
持续集成</li></ul> <h2 id="构建配置管理的可选方案"><a href="#构建配置管理的可选方案" class="header-anchor">#</a> 构建配置管理的可选方案</h2> <p>1、通过多个配置文件管理不同环境的构建，webpack --config 参数进行控制<br>
2、将构建配置设计成一个库，比如：<a href="https://www.npmjs.com/package/hjs-webpack" target="_blank" rel="noopener noreferrer">hjs-webpack<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="http://npm.taobao.org/package/webpack-blocks" target="_blank" rel="noopener noreferrer">webpack-blocks<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>等<br>
3、抽成一个工具进行管理，比如：<a href="https://www.html.cn/create-react-app/docs/getting-started/" target="_blank" rel="noopener noreferrer">create-react-app<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、 <a href="https://cli.vuejs.org/zh/guide/installation.html" target="_blank" rel="noopener noreferrer">vue/cli<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>等<br>
4、将所有的配置放到一个文件里，通过参数控制， --env 参数控制分支选择</p> <h2 id="构建配置包设计"><a href="#构建配置包设计" class="header-anchor">#</a> 构建配置包设计</h2> <p>通过一二方案进行构建包的设计方案可适合小团队选择，而这次通过多个配置文件管理不同环境的webpack配置。<br>
webpack.base.js，基础配置，完成一些通过的构建配置项<br>
webpack.dev.js，开发环境<br>
webpack.prod.js，生产环境<br>
webpack.ssr.js,SSR环境，如果需要考虑到服务器端渲染的</p> <p>将配置文件抽离成一个npm包统一管理：
* 规范：Git commit日志，README配置说明，ESLint规范等<br>
* 质量：单元测试，覆盖率测试，持续集成CI等</p> <p>通过<a href="https://github.com/survivejs/webpack-merge" target="_blank" rel="noopener noreferrer">webpack-merge<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>合并配置项。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span>devConfig<span class="token punctuation">)</span>
</code></pre></div><h2 id="功能模块设计及目录结构设计"><a href="#功能模块设计及目录结构设计" class="header-anchor">#</a> 功能模块设计及目录结构设计</h2> <h3 id="功能模块"><a href="#功能模块" class="header-anchor">#</a> 功能模块</h3> <p><img src="/webpack/webpack-builder.png" alt="功能模块"></p> <h3 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span>
├── test  <span class="token comment">// 测试用例</span>
├── lib   <span class="token comment">// 构建配置源码</span>
<span class="token operator">|</span>   ├── webpack<span class="token punctuation">.</span>base<span class="token punctuation">.</span>js
<span class="token operator">|</span>   └── webpack<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>js
<span class="token operator">|</span>   └── webpack<span class="token punctuation">.</span>prod<span class="token punctuation">.</span>js
<span class="token operator">|</span>   └── webpack<span class="token punctuation">.</span>ssr<span class="token punctuation">.</span>js
├── <span class="token keyword">package</span><span class="token punctuation">.</span>json <span class="token comment">// 依赖包配置说明</span>
├── <span class="token constant">README</span><span class="token punctuation">.</span>md
├── <span class="token constant">CHANGELOG</span><span class="token punctuation">.</span>md      
├── <span class="token punctuation">.</span>eslinrc<span class="token punctuation">.</span>js    
└── index<span class="token punctuation">.</span>js     
</code></pre></div><h2 id="使用eslint规范构建脚本"><a href="#使用eslint规范构建脚本" class="header-anchor">#</a> 使用ESLint规范构建脚本</h2> <p>新建.eslintrc.js文件，配置eslint规范来规范构建脚本。</p> <p>安装依赖</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm i eslint eslint<span class="token operator">-</span>config<span class="token operator">-</span>airbnb<span class="token operator">-</span>base babel<span class="token operator">-</span>eslint eslint<span class="token operator">-</span>plugin<span class="token operator">-</span><span class="token keyword">import</span>@latest  <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>配置.eslintrc.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;parser&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;babel-eslint&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;extends&quot;</span><span class="token punctuation">:</span> <span class="token string">'airbnb-base'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;rules&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;indent&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;env&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 当前生效环境</span>
        <span class="token string">&quot;browser&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;node&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>添加scripts启动命令</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//package.json</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;srcipts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;eslint&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;eslint ./lib --fix&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="功能测试"><a href="#功能测试" class="header-anchor">#</a> 功能测试</h2> <h3 id="冒烟测试"><a href="#冒烟测试" class="header-anchor">#</a> 冒烟测试</h3> <p>冒烟测试是在软件开发过程中的一种针对软件版本包的快速基本功能验证策略，是对软件基本功能进行确认验证的
手段，并非对软件版本包的深入测试。冒烟测试也是针对软件版本包进行详细测试之前的预测试，执行冒烟测试的
主要目的是快速验证软件基本功能是否有缺陷。</p> <h4 id="执行冒烟测试"><a href="#执行冒烟测试" class="header-anchor">#</a> 执行冒烟测试</h4> <p>1、构建是否成功</p> <p>安装<a href="https://www.npmjs.com/package/rimraf" target="_blank" rel="noopener noreferrer">rimraf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>依赖包，用来删除每次build生成的dist文件夹。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm i rimraf <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>新建template测试用例，并运行webpack.prod.js，查看是否构建dist目录</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> rimraf <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'rimraf'</span><span class="token punctuation">)</span>

<span class="token comment">//process.chdir() 方法变更 Node.js 进程的当前工作目录，默认template目录执行</span>
process<span class="token punctuation">.</span><span class="token function">chdir</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'template'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">rimraf</span><span class="token punctuation">(</span><span class="token string">'./dist'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> prodConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../lib/webpack.prod'</span><span class="token punctuation">)</span>
    <span class="token comment">// 运行webpack配置</span>
    <span class="token function">webpack</span><span class="token punctuation">(</span>prodConfig<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            colors<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            modules<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
            children<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
            chunks<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
            chunkModules<span class="token punctuation">:</span><span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Compiler success...'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>运行```node tests/smoke/index.js ``
<img src="/webpack/build-template.png" alt=""></p> <p>2、每次构建完成build目录是否有内容输出</p> <p>目前常用的单元测试库有Mocha+chai和Jest，其中Mocha是单纯的测试框架，需要配合
chai、should.js、expect、better-assert等断言库；而Jest是一个集成的测试框架，
可开箱即用。</p> <p>其中，常用的api有：</p> <ul><li>describe:定义一个测试套件</li> <li>it:定义一个测试用例</li> <li>expect:断言的判断条件</li> <li>toBe:断言的比较结果</li></ul> <p>安装<a href="https://jestjs.io/docs/en/getting-started.html" target="_blank" rel="noopener noreferrer">jest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，运行命令行jest后会自动运行项目下所有.test.js和.spec.js这种格式的文件。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm i jest <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>smoke下新建html.test.js和css.test.js文件，测试是否有生成html、css、js文件。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//html.test.js</span>
<span class="token keyword">const</span> glob <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'glob-all'</span><span class="token punctuation">)</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'检查构建文件是否存在'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'检查html文件是否构建'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> files <span class="token operator">=</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string">'./dist/index.html'</span><span class="token punctuation">,</span>
            <span class="token string">'./dist/about.html'</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>files<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'没有找到html文件'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//css.test.js</span>
<span class="token keyword">const</span> glob <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'glob-all'</span><span class="token punctuation">)</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'检查构建文件是否存在'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'检查css &amp;&amp; js文件是否构建'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> files <span class="token operator">=</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string">'./dist/index_*.js'</span><span class="token punctuation">,</span>
            <span class="token string">'./dist/about_*.js'</span><span class="token punctuation">,</span>
            <span class="token string">'./dist/index_*.css'</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>files<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'没有找到对于css &amp;&amp; js文件'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>运行命令 jest 后会自动运行项目下所有.test.js和.spec.js这种格式的文件。
配置scripts启动命令,设置运行tests目录下的smoke冒烟测试用例。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;srcipts&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;jest:test&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;jest tests/smoke&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="单元测试"><a href="#单元测试" class="header-anchor">#</a> 单元测试</h3> <p>tests/unit文件夹，新建webpack-base.test.js单元测试用例，对webpack.base.js进行单元测试。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//webpack-base.test.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

process<span class="token punctuation">.</span><span class="token function">chdir</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../smoke/template'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'webpack.base.js 测试用例'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>

    <span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../lib/webpack.base'</span><span class="token punctuation">)</span>

    <span class="token comment">// console.log(baseConfig)</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'entry'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 入口文件测试</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">.</span>entry<span class="token punctuation">.</span>index<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'D:/github/blogCode/webpack/webpack-builder/tests/smoke/template/src/index/index.js'</span><span class="token punctuation">)</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">.</span>entry<span class="token punctuation">.</span>about<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'D:/github/blogCode/webpack/webpack-builder/tests/smoke/template/src/about/index.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>在package.json中新增scripts字段，设置单元测试命令行。··</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;test:unit&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;jest tests/unit --config jest.config.json&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中，tests/unit为执行单元测试的目录脚本，--config jest.config.json为指定jest.config.json配置，设置
进行单元覆盖率测试的统计。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//jest.config.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;collectCoverage&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//打开代码覆盖率的开关</span>
  <span class="token string">&quot;collectCoverageFrom&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;lib/*.js&quot;</span><span class="token punctuation">]</span> <span class="token comment">// 配置哪些文件需要收集覆盖率</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运行npm run test:unit可获得对于测试通过率及测试覆盖率：
<img src="/webpack/builder-cover.png" alt=""></p> <h2 id="持续集成"><a href="#持续集成" class="header-anchor">#</a> 持续集成</h2> <p>持续集成其核心就是在代码集成到主干之前，通过自动化测试。只要有一个测试用例失败就不能集成，能快速的发现问题并及时修复。<br>
持续集成能快速发现错误，防止分支大幅偏离主干，保证代码的质量。</p> <p>GitHub最流行的CI：<br> <img src="/webpack/CI.png" alt=""></p> <h3 id="接入travis-ci"><a href="#接入travis-ci" class="header-anchor">#</a> 接入Travis CI</h3> <p>1、使用GitHub账号登录 <a href="https://travis-ci.org/" target="_blank" rel="noopener noreferrer">https://travis-ci.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
2、在<a href="">https://travis-ci.org/account/repositories</a>为项目开启权限<br>
3、在项目根目录下新增.travis.yml CI配置文件，则每次git commit提交时会触发配置的脚本</p> <p>yml文件内容主要包括：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">language</span><span class="token punctuation">:</span> node_js 
<span class="token key atrule">sudo</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token key atrule">cache</span><span class="token punctuation">:</span> <span class="token comment">#是否需要开启缓存，下次运行时CI可以更快速的安装node_modules</span>
    apt<span class="token punctuation">:</span><span class="token boolean important">true</span>
    <span class="token key atrule">directories</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> node_modules 
     
<span class="token key atrule">node_js</span><span class="token punctuation">:</span> stable <span class="token comment">#设置相应的版本</span>

<span class="token key atrule">intall</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> npm install <span class="token punctuation">-</span>D <span class="token comment">#安装构建包依赖</span>
    <span class="token punctuation">-</span>cd ./tests/smoke/template
    <span class="token punctuation">-</span> npm install <span class="token punctuation">-</span>D <span class="token comment">#安装模板 项目依赖</span>
    <span class="token punctuation">-</span> cd ../../../ <span class="token comment">#返回到当前脚本运行目录</span>
    
<span class="token key atrule">script</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> npm run test<span class="token punctuation">:</span>unit

</code></pre></div><p>Travis 的运行流程很简单，任何项目都会经过两个阶段:<br>
install 阶段：安装依赖<br>
script 阶段：运行脚本<br>
如果运行成功的话，项目会添加build passing标示</p> <p><img src="/webpack/travis.png" alt="travis-CI"></p> <h2 id="发布构建包"><a href="#发布构建包" class="header-anchor">#</a> 发布构建包</h2> <p>命令行执行npm login登录npm社区，并执行npm publish即可完成当前包的发布。</p> <p>如果需要进行依赖包版本升级则，对于的升级版本：<br>
npm version patch:升级补丁版本号<br>
npm version minor:升级小版本号<br>
npm version major:升级大版本号</p> <h2 id="git规范及changelog生成"><a href="#git规范及changelog生成" class="header-anchor">#</a> Git规范及Changelog生成</h2> <p>良好的Git commit提交规范可以加快Code Review的流程；可以根据Git Commit提交数据生产Changelog
日志信息；并且后续维护者可以快速定位被修改的原因。</p> <p>技术方案：<br> <img src="/webpack/gitlog.png" alt="commit规范"></p> <p>commit提交格式规范：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token operator">&lt;</span>subject<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token constant">BLANK</span> <span class="token constant">LINE</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token constant">BLANK</span> <span class="token constant">LINE</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span>
</code></pre></div><p>type:表示某次提交的类型，其类型：
feat：新增feature<br>
fix：修复bug<br>
docs：仅修改了文档，比如README,CHANGELOG,CONTRIBUTE等<br>
style：仅修改了空格、格式缩进等，不改变代码逻辑<br>
refactor：代码重构，没有加新功能或者修复bug<br>
perf：优化相关，比如提升性能、体验<br>
test：测试用例，比如单元测试，集成测试等<br>
chore：改变构建流程或者增加依赖库，工具等<br>
revert：回滚到上一个版本</p> <p>安装依赖并设置本地开发阶段添加precommit钩子</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm i husky validate<span class="token operator">-</span>commit<span class="token operator">-</span>msg conventional<span class="token operator">-</span>changelog<span class="token operator">-</span>cli <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>precommit钩子。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//package.json</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;commitmsg&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;validate-commit-msg&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;changelog&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;conventional-changelog -p angular -i CHANGELOG.d -s -r 0&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="开源版本号规范"><a href="#开源版本号规范" class="header-anchor">#</a> 开源版本号规范</h2> <p>软件的版本通常由三位组成，形如：X.Y.Z，其中主版本号一般标示为做了不兼容API的修改，次版本号为做了
向下兼容的功能性新增；而修订号则表示做了向下兼容的问题修正。<br>
遵守semver规范可以有效的避免出现循环依赖及依赖冲突的减少。</p> <h2 id="推荐阅读"><a href="#推荐阅读" class="header-anchor">#</a> 推荐阅读</h2> <p>持续集成Travis CI：<a href="http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html" target="_blank" rel="noopener noreferrer">http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>semver规范：<a href="https://www.jianshu.com/p/a7490344044f" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/a7490344044f<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/fe/webpack/improveMore.html" class="prev">webpack的进阶用法（二）</a></span> <span class="next"><a href="/pages/fe/webpack/optimize.html">webpack构建速度及体积优化</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2c921ca0.js" defer></script><script src="/assets/js/2.29093f4e.js" defer></script><script src="/assets/js/44.408a421f.js" defer></script>
  </body>
</html>
