<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack的基本用法：核心概念 | Web全栈技术笔记</title>
    <meta name="description" content="Web技术笔记，记录前端的进阶之路">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.d20cb8b9.css" as="style"><link rel="preload" href="/assets/js/app.2c921ca0.js" as="script"><link rel="preload" href="/assets/js/2.29093f4e.js" as="script"><link rel="preload" href="/assets/js/42.13fe7b3a.js" as="script"><link rel="prefetch" href="/assets/js/10.e7261647.js"><link rel="prefetch" href="/assets/js/11.3acb9245.js"><link rel="prefetch" href="/assets/js/12.30fa2830.js"><link rel="prefetch" href="/assets/js/13.f7f5633c.js"><link rel="prefetch" href="/assets/js/14.077d15bd.js"><link rel="prefetch" href="/assets/js/15.ca4c6dcf.js"><link rel="prefetch" href="/assets/js/16.33c76806.js"><link rel="prefetch" href="/assets/js/17.c1d108fb.js"><link rel="prefetch" href="/assets/js/18.f2c74917.js"><link rel="prefetch" href="/assets/js/19.4d0677d6.js"><link rel="prefetch" href="/assets/js/20.05a49d49.js"><link rel="prefetch" href="/assets/js/21.303ca718.js"><link rel="prefetch" href="/assets/js/22.dd8c450d.js"><link rel="prefetch" href="/assets/js/23.c436f815.js"><link rel="prefetch" href="/assets/js/24.5817cae1.js"><link rel="prefetch" href="/assets/js/25.7640084e.js"><link rel="prefetch" href="/assets/js/26.6981ceda.js"><link rel="prefetch" href="/assets/js/27.d96b5401.js"><link rel="prefetch" href="/assets/js/28.7e5507ca.js"><link rel="prefetch" href="/assets/js/29.0486ec9e.js"><link rel="prefetch" href="/assets/js/3.5ee6df4b.js"><link rel="prefetch" href="/assets/js/30.0705fdc2.js"><link rel="prefetch" href="/assets/js/31.3e20c412.js"><link rel="prefetch" href="/assets/js/32.40154bdb.js"><link rel="prefetch" href="/assets/js/33.54042f7d.js"><link rel="prefetch" href="/assets/js/34.992a68b5.js"><link rel="prefetch" href="/assets/js/35.fe5d31f8.js"><link rel="prefetch" href="/assets/js/36.20985163.js"><link rel="prefetch" href="/assets/js/37.7e0e1be1.js"><link rel="prefetch" href="/assets/js/38.c81dfd87.js"><link rel="prefetch" href="/assets/js/39.799324c8.js"><link rel="prefetch" href="/assets/js/4.505f2474.js"><link rel="prefetch" href="/assets/js/40.4a8ca097.js"><link rel="prefetch" href="/assets/js/41.3bdce235.js"><link rel="prefetch" href="/assets/js/43.b51c1b2e.js"><link rel="prefetch" href="/assets/js/44.408a421f.js"><link rel="prefetch" href="/assets/js/45.63e44fa3.js"><link rel="prefetch" href="/assets/js/46.409b4b6a.js"><link rel="prefetch" href="/assets/js/47.e253242d.js"><link rel="prefetch" href="/assets/js/48.ba57127f.js"><link rel="prefetch" href="/assets/js/49.7637631e.js"><link rel="prefetch" href="/assets/js/5.5326fad8.js"><link rel="prefetch" href="/assets/js/50.5c4dae5f.js"><link rel="prefetch" href="/assets/js/51.5ced2ccf.js"><link rel="prefetch" href="/assets/js/52.0447cb17.js"><link rel="prefetch" href="/assets/js/53.bb22200a.js"><link rel="prefetch" href="/assets/js/54.cbb62dbb.js"><link rel="prefetch" href="/assets/js/55.951cd720.js"><link rel="prefetch" href="/assets/js/56.3026c904.js"><link rel="prefetch" href="/assets/js/57.925dacf9.js"><link rel="prefetch" href="/assets/js/58.32a50715.js"><link rel="prefetch" href="/assets/js/59.f1f9cb40.js"><link rel="prefetch" href="/assets/js/6.9c6dd834.js"><link rel="prefetch" href="/assets/js/60.be19c9ef.js"><link rel="prefetch" href="/assets/js/61.c84c312a.js"><link rel="prefetch" href="/assets/js/62.b2e36c2d.js"><link rel="prefetch" href="/assets/js/7.a22cca04.js"><link rel="prefetch" href="/assets/js/8.34ea0bd8.js"><link rel="prefetch" href="/assets/js/9.224ad97b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d20cb8b9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon.ico" alt="Web全栈技术笔记" class="logo"> <span class="site-name can-hide">Web全栈技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fe/vue/" class="nav-link">Vue.js实战</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/webpack/" class="nav-link router-link-active">玩转webpack4.0</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/chrome/" class="nav-link">浏览器工作原理与实战</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/block/introduce.html" class="nav-link">区块链开发入门</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/git/" class="nav-link">Git命令大全</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/PCAaron/PCAaron.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/aaron-pan/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fe/vue/" class="nav-link">Vue.js实战</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/webpack/" class="nav-link router-link-active">玩转webpack4.0</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/chrome/" class="nav-link">浏览器工作原理与实战</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/block/introduce.html" class="nav-link">区块链开发入门</a></li><li class="dropdown-item"><!----> <a href="/pages/fe/git/" class="nav-link">Git命令大全</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/PCAaron/PCAaron.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/aaron-pan/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack导读</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/" class="sidebar-link">Webpack导读</a></li><li><a href="/pages/fe/webpack/history.html" class="sidebar-link">webpack与构建发展史</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>webpack基础篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/basic.html" class="active sidebar-link">webpack的基本用法：核心概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/fe/webpack/basic.html#入口起点：entry" class="sidebar-link">入口起点：entry</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/basic.html#输出：output" class="sidebar-link">输出：output</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/basic.html#loader" class="sidebar-link">loader</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/basic.html#插件：plugins" class="sidebar-link">插件：plugins</a></li><li class="sidebar-sub-header"><a href="/pages/fe/webpack/basic.html#模式：mode" class="sidebar-link">模式：mode</a></li></ul></li><li><a href="/pages/fe/webpack/basicUsage.html" class="sidebar-link">webpack的基本用法：常用配置</a></li><li><a href="/pages/fe/webpack/improve.html" class="sidebar-link">webpack的进阶用法（一）</a></li><li><a href="/pages/fe/webpack/improveMore.html" class="sidebar-link">webpack的进阶用法（二）</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack进阶篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/config.html" class="sidebar-link">可维护的webpack构建配置</a></li><li><a href="/pages/fe/webpack/optimize.html" class="sidebar-link">webpack构建速度及体积优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack原理篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/principle.html" class="sidebar-link">运行webpack发生了什么？</a></li><li><a href="/pages/fe/webpack/nature.html" class="sidebar-link">webpack插件机制</a></li><li><a href="/pages/fe/webpack/flow.html" class="sidebar-link">webpack编译流程分析</a></li><li><a href="/pages/fe/webpack/webpack.html" class="sidebar-link">迷你webpack的实现</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>编写loader和plugin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fe/webpack/loader.html" class="sidebar-link">编写一个loader</a></li><li><a href="/pages/fe/webpack/plugin.html" class="sidebar-link">编写一个plugin</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack的基本用法：核心概念"><a href="#webpack的基本用法：核心概念" class="header-anchor">#</a> webpack的基本用法：核心概念</h1> <p>webpack是一个JavaScript应用程序的静态模块打包器(module bundler)。当webpack处理
应用程序时，会从命令行或配置文件中定义的一个模块列表开始处理应用，以这些入口起点(entry)开始，
会递归地构建一个依赖关系图，由于文件间的依赖关系，这使得webpack可以接受例如图片、
字体图标等非代码资源作为依赖来提供给应用程序，然后将应用程序需要的所有模块打包成一个
或多个可有浏览器加载的bundle。</p> <h2 id="入口起点：entry"><a href="#入口起点：entry" class="header-anchor">#</a> 入口起点：entry</h2> <p>entry是用来指定webpack的打包入口的，即依赖图的入口。<br>
可通过webpack配置中配置<strong>entry</strong>属性来指定一个或多个入口起点。默认值为./src。</p> <h3 id="单入口"><a href="#单入口" class="header-anchor">#</a> 单入口</h3> <p>单入口时，entry接受一个字符串，一般适用于构建单页应用。<br>
单入口的写法，webpack.dev.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./path/to/my/entry/file.js'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> config<span class="token punctuation">;</span>
</code></pre></div><h3 id="多入口"><a href="#多入口" class="header-anchor">#</a> 多入口</h3> <p>多入口时，entry接受一个对象，一般适用于构建多页应用<br>
多入口的写法，webpack.dev.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    vendors<span class="token punctuation">:</span> <span class="token string">'./src/vendors.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="输出：output"><a href="#输出：output" class="header-anchor">#</a> 输出：output</h2> <p>相对于entry来对于的源码来说，output就是告诉webpack如何将编译后的文件输出到硬盘。
其中需要指明的时只能由一个output输出配置。</p> <h3 id="output属性"><a href="#output属性" class="header-anchor">#</a> output属性</h3> <ul><li>filename：输出文件的文件名</li> <li>path：目标输出目录的绝对路径</li></ul> <h3 id="单入口的output用法"><a href="#单入口的output用法" class="header-anchor">#</a> 单入口的output用法</h3> <p>对于单入口时，output可直接指定对应的filename和路径即可。<br>
webpack.dev.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    path<span class="token punctuation">:</span> <span class="token string">'/home/proj/public/assets'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="多入口的output用法"><a href="#多入口的output用法" class="header-anchor">#</a> 多入口的output用法</h3> <p>对应于多个entry来说，由于output只能配置一项，所以需要通过<strong>占位符</strong>来确保文件名称的唯一性。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    search<span class="token punctuation">:</span> <span class="token string">'./src/search.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span>
    path<span class="token punctuation">:</span> __dirname <span class="token operator">+</span> <span class="token string">'/dist'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 写入到硬盘：./dist/app.js, ./dist/search.js</span>
</code></pre></div><p>demo的代码地址：<a href="https://github.com/PCAaron/blogCode/tree/master/webpack/webpack-multi" target="_blank" rel="noopener noreferrer">https://github.com/PCAaron/blogCode/tree/master/webpack/webpack-multi<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>运行结果：<br> <img src="/webpack/basic1-1.png" alt="webpack多入口打包output"></p> <h2 id="loader"><a href="#loader" class="header-anchor">#</a> loader</h2> <p>webpack开箱即用只支持JS和JSON两种文件类型，通过loader，可实现支持其他类型文件，例如
css预编译器、JSX、内联图片转dataURL等转化为有效的模块并添加到依赖图中。</p> <p>loader本身时一个函数，接受源文件作为参数。</p> <h3 id="loader的用法"><a href="#loader的用法" class="header-anchor">#</a> loader的用法</h3> <p>推荐在webpack.config.js文件中module.rules配置项中指定loader。例外亦可通过import语句内联
或shell命令中指定。</p> <p>其中，rules有两个配置属性：</p> <ul><li>test属性，用于匹配规则。</li> <li>use属性，指定使用的loader名称。</li></ul> <p>webpack.dev.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span> use<span class="token punctuation">:</span> <span class="token string">'css-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> test<span class="token punctuation">:</span> <span class="token regex">/\.ts$/</span><span class="token punctuation">,</span> use<span class="token punctuation">:</span> <span class="token string">'ts-loader'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="常用的loader"><a href="#常用的loader" class="header-anchor">#</a> 常用的loader</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>babel-loader</td> <td>转换ES6+等JS新特性语法</td></tr> <tr><td>ts-loader</td> <td>将TS转换成JS</td></tr> <tr><td>css-loader</td> <td>支持.css文件的加载和解析</td></tr> <tr><td>style-loader</td> <td>将css代码注入到JS中</td></tr> <tr><td>less-loader</td> <td>将less文件转换成css</td></tr> <tr><td>file-loader</td> <td>进行图片、字体等的打包</td></tr> <tr><td>url-loader</td> <td>将小文件以base64的方式注入到代码中</td></tr> <tr><td>raw-loader</td> <td>将文件以字符串的形式导入</td></tr> <tr><td>thread-loader</td> <td>多进程打包JS和CSS</td></tr></tbody></table> <h2 id="插件：plugins"><a href="#插件：plugins" class="header-anchor">#</a> 插件：plugins</h2> <p>plugins作用于bundle文件的优化，资源管理和环境变量注入。目的在于解决loader无法实现的其他事。</p> <p>webpack的plugins是一个具有apply属性的JS对象。apply属性会被webpack compiler调用，
所以plugins可以作用于构建过程的整个过程。</p> <h3 id="plugins的用法"><a href="#plugins的用法" class="header-anchor">#</a> plugins的用法</h3> <p>由于plugins可以携带参数/选项，所以需在 webpack 配置中，向 plugins 属性传入 new 实例。<br>
webpack.dev.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            template<span class="token punctuation">:</span> <span class="token string">'./src/index.html'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="常用的plugins"><a href="#常用的plugins" class="header-anchor">#</a> 常用的plugins</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>CommonsChunkPlugin</td> <td>将chunks相同的模块代码提取成公共js</td></tr> <tr><td>CleanWebpackPlugin</td> <td>清空构建目录</td></tr> <tr><td>ExtractTextWebpackPlugin</td> <td>将CSS从bunlde文件里提取成一个独立的CSS文件</td></tr> <tr><td>CopyWebpackPlugin</td> <td>将文件或者文件夹拷贝到构建的输出目录</td></tr> <tr><td>HtmlWebpackPlugin</td> <td>创建html文件去承载输出的bundle</td></tr> <tr><td>UglifyjsWebpackPlugin</td> <td>压缩JS</td></tr> <tr><td>ZipWebpackPlugin</td> <td>将打包出的资源生成一个zip包</td></tr></tbody></table> <h2 id="模式：mode"><a href="#模式：mode" class="header-anchor">#</a> 模式：mode</h2> <p>mode配置选项，是用来指定当前的构建环境是production、development还是none。是4.0后
才引入的配置。</p> <p>通过mode参数可以自动的触发webpack响应模式下的内置优化，默认值为production。</p> <h3 id="mode的内置函数功能"><a href="#mode的内置函数功能" class="header-anchor">#</a> mode的内置函数功能</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>development</td> <td>会将process.env.NODE_ENV的值设为development。启动NamedChunksPlugin和NamedModulesPlugin。</td></tr> <tr><td>production</td> <td>会将 process.env.NODE_ENV 的值设为 production。启用 FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin 和 UglifyJsPlugin。</td></tr> <tr><td>none</td> <td>不启动任何优化选项</td></tr></tbody></table> <h3 id="mode的用法"><a href="#mode的用法" class="header-anchor">#</a> mode的用法</h3> <p>mode推荐在webpack配置中使用<br>
webpack.dev.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    mode<span class="token punctuation">:</span> <span class="token string">'production'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>亦可通过CLI参数设置</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>webpack <span class="token operator">--</span>mode<span class="token operator">=</span>production
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/fe/webpack/history.html" class="prev">webpack与构建发展史</a></span> <span class="next"><a href="/pages/fe/webpack/basicUsage.html">webpack的基本用法：常用配置</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2c921ca0.js" defer></script><script src="/assets/js/2.29093f4e.js" defer></script><script src="/assets/js/42.13fe7b3a.js" defer></script>
  </body>
</html>
