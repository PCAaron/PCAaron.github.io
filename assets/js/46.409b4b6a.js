(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{246:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"webpack与构建发展史"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack与构建发展史"}},[t._v("#")]),t._v(" webpack与构建发展史")]),t._v(" "),s("h2",{attrs:{id:"为什么需要构建工具？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要构建工具？"}},[t._v("#")]),t._v(" 为什么需要构建工具？")]),t._v(" "),s("p",[t._v("通过"),s("a",{attrs:{href:"https://www.caniuse.com/#search=es6",target:"_blank",rel:"noopener noreferrer"}},[t._v("caniuse"),s("OutboundLink")],1),t._v("我们了解到\n现代浏览器对es6特性的支持程度：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/webpack/caniuse.jpg",alt:"caniuse"}})]),t._v(" "),s("p",[t._v("由于现代浏览器对es6特性的支持度并不能说太高，为了兼容所以需要进行\n"),s("strong",[t._v("es6语法的转换")]),t._v("，除了此，"),s("strong",[t._v("三大框架的语法特征")]),t._v("，例如转换JSX，双括号等，\n还有其他如"),s("strong",[t._v("CSS前缀补全/预处理器")]),t._v("，"),s("strong",[t._v("JS压缩混淆")]),t._v("，"),s("strong",[t._v("图片压缩")]),t._v("等。")]),t._v(" "),s("h2",{attrs:{id:"前端构建演变"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端构建演变"}},[t._v("#")]),t._v(" 前端构建演变")]),t._v(" "),s("p",[s("img",{attrs:{src:"/webpack/historyStreet.jpg",alt:"构建演变之路"}})]),t._v(" "),s("h3",{attrs:{id:"构建工具说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建工具说明"}},[t._v("#")]),t._v(" 构建工具说明")]),t._v(" "),s("p",[t._v("YUI Compressor:"),s("a",{attrs:{href:"https://github.com/yui/yuicompressor",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/yui/yuicompressor"),s("OutboundLink")],1),t._v(",\nYUI压缩器是一种JavaScript和CSS压缩器，除了删除注释和空格外，还使用尽可能小的变量名来混淆局部变量。")]),t._v(" "),s("p",[t._v("Grunt："),s("a",{attrs:{href:"https://github.com/gruntjs/grunt",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/gruntjs/grunt"),s("OutboundLink")],1),t._v(",\nGrunt是一个JavaScript任务运行器，本身就使用JavaScript开发，灵活的管理任务间的依赖和\n执行定义的任务。")]),t._v(" "),s("p",[t._v("Gulp："),s("a",{attrs:{href:"https://github.com/gulpjs/gulp",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/gulpjs/gulp"),s("OutboundLink")],1),t._v(",\ngulp是基于流的自动化构建工具，除了管理和执行任务，还支持监听读写文件。")]),t._v(" "),s("p",[t._v("fis3："),s("a",{attrs:{href:"https://github.com/fex-team/fis3",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/fex-team/fis3"),s("OutboundLink")],1),t._v("，\n集成了web开发中常用的构建功能，如资源定位，文件编译，压缩，雪碧图等。")]),t._v(" "),s("p",[t._v("rollup:"),s("a",{attrs:{href:"https://github.com/rollup/rollup",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/rollup/rollup"),s("OutboundLink")],1),t._v(",\n专注于ES6模块化，可将一小段代码编译成更大或更复杂的内容，例如库或应用程序。")]),t._v(" "),s("p",[t._v("webpack："),s("a",{attrs:{href:"https://github.com/webpack/webpack",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/webpack/webpack"),s("OutboundLink")],1),t._v("，\n一切皆模块，支持模块打包及丰富的插件扩展功能。")]),t._v(" "),s("p",[t._v("parcel："),s("a",{attrs:{href:"https://github.com/parcel-bundler/parcel",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/parcel-bundler/parcel"),s("OutboundLink")],1),t._v("，\n极速零配置Web应用打包工具,新兴地打包工具。")]),t._v(" "),s("h2",{attrs:{id:"初识webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初识webpack"}},[t._v("#")]),t._v(" 初识webpack")]),t._v(" "),s("p",[t._v("webpack打包理念：一切皆模块。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/webpack/historyWebpack.jpg",alt:"webpack"}})]),t._v(" "),s("p",[t._v("由于丰富的社区插件和扩展，及官网的版本迭代速度及性能优化等优势，我们来切入对webpack的了解。")]),t._v(" "),s("h3",{attrs:{id:"环境搭建：安装webpack和webpack-cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建：安装webpack和webpack-cli"}},[t._v("#")]),t._v(" 环境搭建：安装webpack和webpack-cli")]),t._v(" "),s("p",[t._v("1、创建webpack-beginner文件夹，并初始化依赖包环境")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("mkdir webpack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("beginner\ncd webpack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("beginner\nnpm init "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y\n")])])]),s("p",[t._v("2、安装webpack和webpack-cli,其中--save-dev参数默认打包时不会打包进入\n生产环境的依赖包上。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("npm install webpack webpack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cli "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\n")])])]),s("h3",{attrs:{id:"配置文件名称"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件名称"}},[t._v("#")]),t._v(" 配置文件名称")]),t._v(" "),s("p",[t._v("webpack默认配置文件为"),s("strong",[t._v("webpack.dev.js")]),t._v("。")]),t._v(" "),s("p",[t._v("可以通过package.json配置启动项，通过"),s("strong",[t._v("webpack --config 指定配置文件")]),t._v("，\n实现对应配置文件的设置。")]),t._v(" "),s("h3",{attrs:{id:"webpack配置组成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack配置组成"}},[t._v("#")]),t._v(" webpack配置组成")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -- 模式")]),t._v("\n    entry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -- 打包入口文件")]),t._v("\n    output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dist/main.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -- 打包输出")]),t._v("\n    module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        rules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --loader配置")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    plugins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -- 插件配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("其中：")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("entry")]),t._v("：入口起点(entry point)指示 webpack 应该使用哪个模块，来作为构建其内部依赖图的开始，\n每个依赖项随即被处理，最后输出到称之为 bundles 的文件中。默认指定的entry为： ./src/index.js。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("output")]),t._v("： webpack 在哪里输出它所创建的 bundles，以及如何命名这些文件。默认指定的\noutpu为：./dist/main.js。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("loader")]),t._v("：loader 让 webpack 能够去处理那些非 JavaScript 文件（webpack 自身只理解 JavaScript）。\nloader 可以将所有类型的文件转换为 webpack 能够处理的有效模块。"),s("br"),t._v("\n在webpack配置中loader有两个目标："),s("br"),t._v("\n1、test属性，用于标识出应该被对应的loader进行转换的某个或某些文件。"),s("br"),t._v("\n2、use属性，表示进行转换时，应该使用哪些loader。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("plugins")]),t._v("：插件的范围包括，从打包优化和压缩，一直到重新定义环境中的变量。\n可通过require引入并添加到plugins数组的方式使用。也可以在一个配置文件中因为不同目的而多次使用同一个插件，\n这时需要通过使用 new 操作符来创建它的一个实例。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("mode")]),t._v("：通过设置development或production参数来设置对应的不同环境。")])])]),t._v(" "),s("h3",{attrs:{id:"webpack初体验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack初体验"}},[t._v("#")]),t._v(" webpack初体验")]),t._v(" "),s("p",[t._v("demo对应的代码地址："),s("a",{attrs:{href:"https://github.com/PCAaron/blogCode/tree/master/webpack/webpack-beginner",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/PCAaron/blogCode/tree/master/webpack/webpack-beginner"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("1、由于package.json默认可读取.bin下目录的命令，我们可通过package.json中scripts\n中设置启动项，通过npm run 启动配置，方式运行构建。")]),t._v(" "),s("p",[t._v("2、创建webpack.config.js设置简单的打包构建，实现js的打包并\n输出到bundle.js中。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    entry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        filename"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("3、然后新增src目录，index.js为入口文件。")]),t._v(" "),s("p",[t._v("4、目前没有html页面查看打包后的代码，通过dist目录手动\n创建index.html并引入/dist/bundle.js查看打包结果。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/webpack/historyDemo.jpg",alt:"demo"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/webpack/historyEnd.jpg",alt:"index"}})]),t._v(" "),s("h2",{attrs:{id:"推荐阅读"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推荐阅读"}},[t._v("#")]),t._v(" 推荐阅读")]),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://www.gruntjs.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("grunt官网"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://www.gulpjs.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("gulp官网"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://www.rollupjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("rollup中文网"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://www.webpackjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack官网"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://parceljs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("parcel中文网"),s("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=r.exports}}]);